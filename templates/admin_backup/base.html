{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} {% endblock %} - Sistema de Gestión Hospitalaria</title>
    <link rel="icon" type="image/x-icon" href="{% static 'img/icon_app.png' %}">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet"/>
    <link href="{% static 'css/base-style.css' %}" rel="stylesheet"/>
    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    {% comment %} <link href="{% static 'css/themify-icons.css' %}" rel="stylesheet"/> {% endcomment %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
    <link  href="{% static 'css/style.css' %}" rel="stylesheet">
    <link  href="{% static 'css/jquery.dataTables.min.css' %}" rel="stylesheet">
    <link  href="{% static 'css/styleblog.css' %}" rel="stylesheet">
    <link  href="{% static 'css/styleblog-responsive.css' %}" rel="stylesheet">

</head>
<body>
    <input type="checkbox" id="sidebar-toggle">
    <div class="sidebar">
        <div class="sidebar-header pt-4">
            <div class="mx-auto d-block">
                <img src="{% static 'img/logoBlanco.png' %}" alt="logo" class="img-fluid" style="max-width: 60px;">
            </div>
            <label for="sidebar-toggle" class="ti-menu-alt"></label>
        </div>

        <div class="sidebar-menu">
            <ul>
                <li>
                    <a href="{% url 'admin_dashboard' %}">
                        &nbsp;&nbsp;<i class="bi bi-house"></i>
                        <span class="menu-text">&nbsp;&nbsp;Inicio</span>
                    </a>
                </li>
                <li>
                    <a href="{% url 'admin_profile' %}">
                        &nbsp;&nbsp;<i class="bi bi-person-circle me-2"> </i>
                        <span class="menu-text">&nbsp;&nbsp;Perfil</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-bs-toggle="collapse" data-bs-target="#usersMenu" aria-expanded="false">
                        &nbsp;&nbsp;<i class="bi bi-kanban"></i>
                        <span class="menu-text">&nbsp;&nbsp;Gestionar usuarios</span>
                        <i class="bi bi-chevron-down ms-auto"></i>
                    </a>
                    <div class="collapse" id="usersMenu">
                        <ul class="submenu">
                            <li>
                                <a href="{% url 'admin_users_list' %}" class="text-center">
                                    <span class="menu-text d-block text-center">Ver Usuarios</span>
                                </a>
                            </li>
                            <!-- <li>
                                <a href="{% url 'admin_create_user' %}" class="text-center">
                                    <span class="menu-text d-block text-center">Crear Usuario</span>
                                </a>
                            </li> -->
                            <li>
                                <a href="{% url 'admin_select_user_for_role' %}" class="text-center">
                                    <span class="menu-text d-block text-center">Asignar Roles</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href="{% url 'admin_permissions_list' %}" class="text-center">
                                    <span class="menu-text d-block text-center">Permisos</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>


                <br><br>
                

                <li>
                    <a href="{% url 'logout' %}" class="logout text-dark" data-bs-toggle="tooltip" data-bs-placement="right" title="logout">
                        &nbsp;&nbsp;<i class="bi bi-box-arrow-left me-3"></i>
                        <span class="menu-text">Cerrar sesión</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main-content">
    <header class="d-flex  align-items-center">
      <h2>{% block page_title %}{% endblock page_title %}</h2>
      <a href="{% url 'admin_profile' %}">
        {% if request.user.profile_avatar %}
          <img src="{{ request.user.profile_avatar.url }}" style="width: 30px; height: 30px; border-radius: 50%; overflow: hidden; background-color: blue; display: inline-block; vertical-align: middle; border: 3px solid #424a5b;">
        {% else %}
          <div style="width: 30px; height: 30px; border-radius: 50%; background-color: #424a5b; display: inline-block; vertical-align: middle; border: 3px solid #424a5b;"></div>
        {% endif %}
        <span class="fw-bold fs-6 ms-1 text-dark me-4">{{ request.user.username|safe | truncatechars:"10" }}</span>
      </a>
    </header>
    {% block content %}
    {% endblock content %}

    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/poper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="{% static 'js/admin_dashboard.js' %}"></script>
</body>
</html>